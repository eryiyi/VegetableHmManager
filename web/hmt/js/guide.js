// JavaScript Document

var resoruceUrl = init.resoruceUrl;
var guide = function () {
}
guide.prototype = {
    get_css: function () {
        var css = '<link rel="stylesheet" href="' + resoruceUrl + '4.0/css/personal/home/guide.css">';
        return css;
    },
    get_seller_html: function () {
        var html = '';
        html += '<div class="guide guide-seller">';
        html += '    <div class="guide-0">';
        html += '    <div class="screen"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/experience.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    <div class="guide-1">';
        html += '    <div class="screen screen-1"></div>';
        html += '    <div class="screen screen-2"></div>';
        html += '    <div class="screen screen-3"></div>';
        html += '    <div class="screen screen-4"></div>';
        html += '    <div class="screen screen-5"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/next.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    <div class="guide-2">';
        html += '    <div class="screen screen-1"></div>';
        html += '    <div class="screen screen-2"></div>';
        html += '    <div class="screen screen-3"></div>';
        html += '    <div class="screen screen-4"></div>';
        html += '    <div class="screen screen-5"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/next.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    <div class="guide-3">';
        html += '    <div class="screen screen-1"></div>';
        html += '    <div class="screen screen-2"></div>';
        html += '    <div class="screen screen-3"></div>';
        html += '    <div class="screen screen-4"></div>';
        html += '    <div class="screen screen-5"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/next.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    <div class="guide-4">';
        html += '    <div class="screen screen-1"></div>';
        html += '    <div class="screen screen-2"></div>';
        html += '    <div class="screen screen-3"></div>';
        html += '    <div class="screen screen-4"></div>';
        html += '    <div class="screen screen-5"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/next.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    <div class="guide-5">';
        html += '    <div class="screen screen-1"></div>';
        html += '    <div class="screen screen-2"></div>';
        html += '    <div class="screen screen-3"></div>';
        html += '    <div class="screen screen-4"></div>';
        html += '    <div class="screen screen-5"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/complete.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '</div>';
        return html;
    },
    get_buyer_html: function () {
        var html = '';
        html += '<div class="guide guide-buyer">';
        html += '    <div class="guide-0">';
        html += '    <div class="screen"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/experience.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    <div class="guide-1">';
        html += '    <div class="screen screen-1"></div>';
        html += '    <div class="screen screen-2"></div>';
        html += '    <div class="screen screen-3"></div>';
        html += '    <div class="screen screen-4"></div>';
        html += '    <div class="screen screen-5"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/next.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    <div class="guide-2">';
        html += '    <div class="screen screen-1"></div>';
        html += '    <div class="screen screen-2"></div>';
        html += '    <div class="screen screen-3"></div>';
        html += '    <div class="screen screen-4"></div>';
        html += '    <div class="screen screen-5"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/next.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    <div class="guide-3">';
        html += '    <div class="screen screen-1"></div>';
        html += '    <div class="screen screen-2"></div>';
        html += '    <div class="screen screen-3"></div>';
        html += '    <div class="screen screen-4"></div>';
        html += '    <div class="screen screen-5"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/next.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    <div class="guide-4">';
        html += '    <div class="screen screen-1"></div>';
        html += '    <div class="screen screen-2"></div>';
        html += '    <div class="screen screen-3"></div>';
        html += '    <div class="screen screen-4"></div>';
        html += '    <div class="screen screen-5"></div>';
        html += '    <div class="box">';
        html += '    <a href="javascript:void(0);" class="close"><img src="' + resoruceUrl + '4.0/images/personal/guide/close.png" /></a>';
        html += '    <a href="javascript:void(0);" class="next"><img src="' + resoruceUrl + '4.0/images/personal/guide/complete.png" /></a>';
        html += '    </div>';
        html += '    </div>';
        html += '    </div>';
        return html;
    },
    get_container: function () {
        var container = '';
        container += '<div class="guide-container"></div>';
        return container;
    },
    guide_init: function () {
        //获取页面高宽
        var htmlWidth = $(document).width();
        var htmlHeight = $(document).height();
        if (htmlWidth <= 1200) htmlWidth = 1200;
        //初始化卖家引导第一部遮罩层高宽
        $('.guide-seller .guide-1 .screen-2').width((htmlWidth - 1190) / 2 + 285);
        $('.guide-seller .guide-1 .screen-3').css('left', (htmlWidth - 1190) / 2 + 285);
        $('.guide-seller .guide-1 .screen-4').width((htmlWidth - 1190) / 2 + 205);
        $('.guide-seller .guide-1 .screen-4').css('left', (htmlWidth - 1190) / 2 + 285 + 700);
        $('.guide-seller .guide-1 .screen-5').height(htmlHeight - 120 - 355);
        $('.guide-seller .guide-1 .box').css('left', (htmlWidth - 1190) / 2 + 628);
        //初始化卖家引导第二部遮罩层高宽
        $('.guide-seller .guide-2 .screen-2').width((htmlWidth - 1190) / 2 + 285 + 715);
        $('.guide-seller .guide-2 .screen-2').height($('.plug').height() + 10);
        $('.guide-seller .guide-2 .screen-3').height($('.plug').height() + 10);
        $('.guide-seller .guide-2 .screen-3').css('left', (htmlWidth - 1190) / 2 + 285 + 715);
        $('.guide-seller .guide-2 .screen-4').width((htmlWidth - 1190) / 2);
        $('.guide-seller .guide-2 .screen-4').height($('.plug').height() + 10);
        $('.guide-seller .guide-2 .screen-4').css('left', (htmlWidth - 1190) / 2 + 285 + 715 + 190);
        $('.guide-seller .guide-2 .screen-5').height(htmlHeight - 120 - $('.plug').height() - 10);
        $('.guide-seller .guide-2 .screen-5').css('top', 120 + $('.plug').height() + 10);
        $('.guide-seller .guide-2 .box').css('left', (htmlWidth - 1190) / 2 + 696);
        //初始化卖家引导第三部遮罩层高宽
        $('.guide-seller .guide-3 .screen-2').width((htmlWidth - 1190) / 2 + 285);
        $('.guide-seller .guide-3 .screen-3').css('left', (htmlWidth - 1190) / 2 + 285);
        $('.guide-seller .guide-3 .screen-4').width((htmlWidth - 1190) / 2 + 205 + 700 - 345);
        $('.guide-seller .guide-3 .screen-4').css('left', (htmlWidth - 1190) / 2 + 285 + 345);
        $('.guide-seller .guide-3 .screen-5').height(htmlHeight - 485 - 202);
        $('.guide-seller .guide-3 .box').css('left', (htmlWidth - 1190) / 2 + 640);
        //初始化卖家引导第四部遮罩层高宽
        $('.guide-seller .guide-4 .screen-2').width((htmlWidth - 1190) / 2 + 285 + 355);
        $('.guide-seller .guide-4 .screen-3').css('left', (htmlWidth - 1190) / 2 + 285 + 355);
        $('.guide-seller .guide-4 .screen-4').width((htmlWidth - 1190) / 2 + 205);
        $('.guide-seller .guide-4 .screen-4').css('left', (htmlWidth - 1190) / 2 + 285 + 700);
        $('.guide-seller .guide-4 .screen-5').height(htmlHeight - 485 - 202);
        $('.guide-seller .guide-4 .box').css('left', (htmlWidth - 1190) / 2 + 320);
        //初始化卖家引导第五部遮罩层高宽
        $('.guide-seller .guide-5 .screen-2').width((htmlWidth - 1190) / 2 + 285);
        $('.guide-seller .guide-5 .screen-3').css('left', (htmlWidth - 1190) / 2 + 285);
        $('.guide-seller .guide-5 .screen-4').width((htmlWidth - 1190) / 2 + 205);
        $('.guide-seller .guide-5 .screen-4').css('left', (htmlWidth - 1190) / 2 + 285 + 700);
        $('.guide-seller .guide-5 .screen-5').height(htmlHeight - 875);
        $('.guide-seller .guide-5 .box').css('left', (htmlWidth - 1190) / 2 + 289);
        //初始化买家引导第一部遮罩层高宽
        $('.guide-buyer .guide-1 .screen-2').width((htmlWidth - 1190) / 2 + 285);
        $('.guide-buyer .guide-1 .screen-3').css('left', (htmlWidth - 1190) / 2 + 285);
        $('.guide-buyer .guide-1 .screen-4').width((htmlWidth - 1190) / 2 + 205 + 700 - 345);
        $('.guide-buyer .guide-1 .screen-4').css('left', (htmlWidth - 1190) / 2 + 285 + 345);
        $('.guide-buyer .guide-1 .screen-5').height(htmlHeight - 120 - 202);
        $('.guide-buyer .guide-1 .box').css('left', (htmlWidth - 1190) / 2 + 640);
        //初始化买家引导第二部遮罩层高宽
        $('.guide-buyer .guide-2 .screen-2').width((htmlWidth - 1190) / 2 + 285 + 355);
        $('.guide-buyer .guide-2 .screen-3').css('left', (htmlWidth - 1190) / 2 + 285 + 355);
        $('.guide-buyer .guide-2 .screen-4').width((htmlWidth - 1190) / 2 + 205);
        $('.guide-buyer .guide-2 .screen-4').css('left', (htmlWidth - 1190) / 2 + 285 + 700);
        $('.guide-buyer .guide-2 .screen-5').height(htmlHeight - 120 - 202);
        $('.guide-buyer .guide-2 .box').css('left', (htmlWidth - 1190) / 2 + 296);
        //初始化买家引导第三部遮罩层高宽
        $('.guide-buyer .guide-3 .screen-2').width((htmlWidth - 1190) / 2 + 285 + 715);
        $('.guide-buyer .guide-3 .screen-2').height($('.plug').height() + 10);
        $('.guide-buyer .guide-3 .screen-3').height($('.plug').height() + 10);
        $('.guide-buyer .guide-3 .screen-3').css('left', (htmlWidth - 1190) / 2 + 285 + 715);
        $('.guide-buyer .guide-3 .screen-4').width((htmlWidth - 1190) / 2);
        $('.guide-buyer .guide-3 .screen-4').height($('.plug').height() + 10);
        $('.guide-buyer .guide-3 .screen-4').css('left', (htmlWidth - 1190) / 2 + 285 + 715 + 190);
        $('.guide-buyer .guide-3 .screen-5').height(htmlHeight - 120 - $('.plug').height() - 10);
        $('.guide-buyer .guide-3 .screen-5').css('top', 120 + $('.plug').height() + 10);
        $('.guide-buyer .guide-3 .box').css('left', (htmlWidth - 1190) / 2 + 696);
        //初始化买家引导第四部遮罩层高宽
        $('.guide-buyer .guide-4 .screen-2').width((htmlWidth - 1190) / 2 + 285);
        $('.guide-buyer .guide-4 .screen-3').css('left', (htmlWidth - 1190) / 2 + 285);
        $('.guide-buyer .guide-4 .screen-4').width((htmlWidth - 1190) / 2 + 205);
        $('.guide-buyer .guide-4 .screen-4').css('left', (htmlWidth - 1190) / 2 + 285 + 700);
        $('.guide-buyer .guide-4 .screen-5').height(htmlHeight - 510);
        $('.guide-buyer .guide-4 .box').css('left', (htmlWidth - 1190) / 2 + 386);
    },
    guide_seller_open: function () {
        var container = this.get_container();
        var css = this.get_css();
        var html = this.get_seller_html();
        //if
        if ($('.guide-container').length > 0) {
            $('.guide-container').hide().remove();
        }
        //append
        $('body').append(container);
        $('.guide-container').append(css);
        $('.guide-container').append(html);
        this.guide_init();
        //run
        $('.guide-seller').show().children().hide();
        $('.guide-seller .guide-0').fadeIn(500).siblings().fadeOut(500);
        $('.guide-seller .close').on('click', function () {
            $('.guide-seller').fadeOut(500);
            $(document).scrollTop(0);
        });
        $('.guide-seller .next').on('click', function () {
            $(this).parent().parent().next().fadeIn(500).siblings().hide();
            var indexs = $('.guide-seller .next').index(this);
            var scrollTop = 0;
            if (indexs == 2 || indexs == 3) {
                scrollTop = 200;
            }
            if (indexs == 4) {
                scrollTop = 400;
            }
            $(document).scrollTop(scrollTop);
        });
        $('.guide-seller .guide-5 .next').on('click', function () {
            $('.guide-seller').fadeOut(500);
        });
    },
    guide_buyer_open: function () {
        var container = this.get_container();
        var css = this.get_css();
        var html = this.get_buyer_html();
        //if
        if ($('.guide-container').length > 0) {
            $('.guide-container').hide().remove();
        }
        //append
        $('body').append(container);
        $('.guide-container').append(css);
        $('.guide-container').append(html);
        this.guide_init();
        //run
        $('.guide-buyer').show().children().hide();
        $('.guide-buyer .guide-0').fadeIn(500).siblings().fadeOut(500);
        $('.guide-buyer .close').on('click', function () {
            $('.guide-buyer').fadeOut(500);
            $(document).scrollTop(0);
        });
        $('.guide-buyer .next').on('click', function () {
            $(this).parent().parent().next().fadeIn(500).siblings().hide();
            $(document).scrollTop(0);
        });
        $('.guide-buyer .guide-4 .next').on('click', function () {
            $('.guide-buyer').fadeOut(500);
        });
    }
}